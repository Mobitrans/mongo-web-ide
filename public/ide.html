<!DOCTYPE html>
<html lang="en">

    <head>
        <title><%= typeof(remoteDocumentState.queryName) == "undefined" ? "Mongo Web IDE" : remoteDocumentState.queryName %></title>
        <link rel="stylesheet" href="/public/styles/conflict-dialog.css">
        <link rel="stylesheet" href="/public/styles/ide.css">
        <link rel="stylesheet" href="/public/styles/menu.css">
        <link rel="stylesheet" href="/public/styles/query-search.css">
        <link rel="stylesheet" href="/node_modules/nvd3/nv.d3.css"/>
        <link rel="icon" type="image/png" href="/public/images/favicon.png"/>
        <script type="text/javascript">
            var remoteDocumentStates = [<%- JSON.stringify(remoteDocumentState) %>];
        </script>
        <script src="/public/scripts/ide.js" type="text/javascript"></script>
    </head>

    <body>        
        <div class="preloader" style="display: none">
            <div>Loading, please wait...</div>
        </div>        
        <div class="query-search-container">
        </div>        
        <div class="menu">
            <a class="logo" href="/?_=<%= new Date().getTime() %>"></a>
            <a class="button" href="/branch" target="_blank">New</a>
            <a class="button" id="save">Save</a>
            <a class="button">
                <input type="checkbox" name="cache" id="cache" checked>
                <label for="cache">Cache</label>
            </a>
            <a class="button" id="execute-query">Execute</a>
            <a class="button" id="fork">Fork</a>            
            <a class="button" id="info">Info</a>
            <a class="button" id="params">Params</a>
            <!-- <a class="button" id="delete">Delete</a> -->
            <a class="button" id="remote-state" data-state="client">
                <span class="client">Client</span>
                <span class="server">Server</span>
            </a>            
            <a class="button">
                <input type="checkbox" name="multi-query" id="multi-query">
                <label for="multi-query">Multi</label>
            </a>
            <a class="button" id="reset-to-server">Reset</a>
            <a class="link" href="/logout">Logout</a>
        </div>
        <div class="details" style="display: none">
            <div>
                <label>Server name</label>
                <input type="text" id="server-name" name="server-name"/>
            </div>
            <div>
                <label>Database</label>
                <input type="text" id="database" name="database"/>
            </div>
            <div>
                <label>Collection</label>
                <input type="text" id="collection" name="collection"/>
            </div>
        </div>
        <div class="parameters" style="display: none">
            <div class="editor" id="parameters-editor"></div>
        </div>
        <div class="content">
            <div class="editors">

                <div class="editor-name">
                    <input type="text" id="query-name" placeholder="Enter query name here!"/>
                </div>
                <div class="editor" id="query-editor"></div>
                <div class="resize-handle horizontal"></div>

                <div class="editor-name">Transformation</div>
                <div class="editor" id="transformation-editor"></div>
                <div class="resize-handle horizontal"></div>

                <div class="editor-name">Presentation</div>
                <div class="editor" id="presentation-editor"></div>
                <div class="resize-handle horizontal"></div>

            </div>
            <div class="resize-handle vertical"></div>
            <div class="output">
                <pre></pre>
                <svg></svg>
            </div>
        </div>
        <div class="conflict-dialog-container"></div>

    </body>

</html>
